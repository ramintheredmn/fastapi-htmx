{% extends 'base.html'%}

{% block title %} ثیت نام {% endblock %}


{% block content %}

<form dir="rtl" hx-post="/api/register/{{randomnumber}}" hx-target="#result" hx-swap="innerHTML"
  hx-include='[name="username"]' class="font-iransans-medium mx-[5%] md:mx-[20%]">
  <!-- this is going to be to col in mid size screen and bigger -->
  <div id="formfirst" class="grid p-6 gap-4 mb-4 md:grid-cols-2">
    <div>
      <label for="user_id" class="label">نام کاربری</label>
      <input type="text" name="username" value="{{user}}" readonly required id="user_id" class="input" />
    </div>
    <div>
      <label for="password" class="label">رمز عبور</label>
      <input name="password" placeholder="رمز" class="input" required pattern="[A-Za-z0-9@#]+">
    </div>
    <div>
      <label for="name" class="label">نام</label>
      <input type="text" name="name" class="input" required>
    </div>
    <div>
      <label for="lastname" class="label">نام خانوادگی</label>
      <input type="text" name="lastname" class="input" required>
    </div>
    <fieldset required>
      <legend class="label">جنسیت</legend>
      <div class="flex flex-row">
        <div class="flex items-center mb-4">
          <label class="label">
            <input type="radio" name="sex" value="1" class="form-radio text-indigo-600" required>
            <span class="ml-2">مرد</span>
          </label>
        </div>
        <div class="flex items-center mb-4">
          <label class="label">
            <input type="radio" name="sex" value="2" class="form-radio text-pink-600">
            <span class="ml-2">زن</span>
          </label>
        </div>
        <div class="flex items-center mb-4">
          <label class="label">
            <input type="radio" name="sex" value="0" class="form-radio text-gray-600">
            <span class="ml-2">دیگر</span>
          </label>
        </div>
      </div>
    </fieldset>
    <div>
      <label for="date" class="label">تاریخ تولد</label>
      <input name="birthdate" type="text" data-jdp required class="input">
    </div>
    <div>
      <label for="height" class="label">قد به سانتی متر</label>
      <input name="height" type="text" id="height" placeholder="قد" class="input" required pattern="[0-9]+">
    </div>
    <div>
      <label for="weight" class="label">وزن به کیلوگرم</label>
      <input type="text" name="weight" class="input" required pattern="[0-9]+">
    </div>
  </div>
  <!-- here is the drug iput part and it is always the one col -->
  <div id="druglist" class="mb-4 mx-5">
    <label class="label">نام دارو</label>
    <input name="query" hx-post="/api/{{randomnumber}}/drug_search" hx-target="#search" hx-swap="innerHTML"
      hx-trigger="keyup delay:500ms" type="text" class="input" id="drugsearch">
    <div id="search" dir="ltr"
      class="max-w-full font-iransans-light htmx-swaping:opacity-100 transition-opacity duration-300"
      x-data='{drugs: "{}"}'></div>
  </div>
  <div class="flex items-center justify-center">
    <button class="button" type="submit">
      ثبت نام
    </button>
    <div id="result"></div>
  </div>
</form>


{% endblock %}
